<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExtraCourse - Belajar Bahasa Inggris Jadi Lebih Mudah dan Terarah</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .hero-bg { background-color: #EFF6FF; }
        .cta-button { transition: all 0.3s ease; }
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .feature-card, .preview-card, .testimonial-card { transition: all 0.3s ease; }
        .preview-card { position: relative; }
        .feature-card:hover, .preview-card:not(.content-locked):hover, .testimonial-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
        }
        .nav-link { position: relative; transition: color 0.3s ease; }
        .nav-link::after {
            content: ''; position: absolute; width: 0; height: 2px;
            bottom: -4px; left: 50%; transform: translateX(-50%);
            background-color: #2563EB; transition: width 0.3s ease;
        }
        .nav-link:hover::after, .nav-link.active::after { width: 100%; }
        .nav-link:hover, .nav-link.active { color: #2563EB; }
        .mobile-menu-button:focus { outline: none; }
        .logo-image { height: 70px; width: auto; }
        .auth-button {
            padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 500;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
            display: inline-block; text-align: center;
        }
        .auth-button-primary { background-color: #2563EB; color: white; }
        .auth-button-primary:hover { background-color: #1D4ED8; }
        .auth-button-secondary { background-color: transparent; color: #2563EB; border: 1px solid #2563EB; }
        .auth-button-secondary:hover { background-color: #DBEAFE; color: #1D4ED8; }
        
        #userInfoDesktopTrigger, #mobileUserInfoContainer .flex.items-center {
            display: flex; align-items: center; gap: 0.5rem; /* Mengurangi gap sedikit */
            cursor: pointer;
        }
        #userPhotoDesktop, #userPhotoMobile {
            width: 32px; height: 32px; border-radius: 9999px; object-fit: cover;
        }
        .user-display-name {
            font-weight: 500; color: #374151; white-space: nowrap;
            overflow: hidden; text-overflow: ellipsis; max-width: 100px; /* Sesuaikan agar pas */
        }
        .caret-icon { width: 1rem; height: 1rem; color: #6B7280; transition: transform 0.2s ease-in-out; }
        #userDropdownTriggerDesktop.open .caret-icon { transform: rotate(180deg); }

        #userDropdownMenuDesktop {
            display: none; /* Default hidden, JS akan mengontrol */
            position: absolute;
            right: 0;
            top: 100%; /* Muncul di bawah trigger */
            margin-top: 0.5rem; /* mt-2 */
            width: 14rem; /* w-56 */
            background-color: white;
            border-radius: 0.375rem; /* rounded-md */
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); /* shadow-xl */
            z-index: 50; /* Pastikan di atas elemen lain */
            padding-top: 0.25rem; /* py-1 */
            padding-bottom: 0.25rem; /* py-1 */
            border: 1px solid #e5e7eb; /* border-gray-200 */
        }
        #userDropdownMenuDesktop a, #userDropdownMenuDesktop button {
            display: block;
            width: 100%;
            padding: 0.5rem 1rem; /* px-4 py-2 */
            font-size: 0.875rem; /* text-sm */
            color: #374151; /* text-slate-700 */
            text-align: left;
        }
        #userDropdownMenuDesktop a:hover, #userDropdownMenuDesktop button:hover {
            background-color: #EFF6FF; /* bg-blue-50 */
            color: #2563EB; /* text-blue-600 */
        }
        #userDropdownMenuDesktop #logoutButtonDropdownDesktop:hover {
            background-color: #FEF2F2; /* bg-red-50 */
            color: #DC2626; /* text-red-600 */
            font-weight: 500;
        }
        .dropdown-user-info { padding: 0.75rem 1rem; border-bottom: 1px solid #e5e7eb; margin-bottom: 0.25rem;}
        .dropdown-user-info .name { font-size: 0.875rem; font-weight: 600; color: #1f2937;}
        .dropdown-user-info .email { font-size: 0.75rem; color: #6b7280; overflow: hidden; text-overflow: ellipsis;}

        /* Mobile User Menu Items */
        #mobileUserMenuLinksContainer a {
            padding-left: 1.5rem; /* px-6, samakan dengan nav link lain */
            padding-right: 1.5rem;
            padding-top: 0.75rem; /* py-3 */
            padding-bottom: 0.75rem;
            display: block;
            color: #4B5563; /* text-slate-600 */
        }
         #mobileUserMenuLinksContainer a:hover {
            background-color: #EFF6FF; /* bg-blue-50 */
            color: #2563EB; /* text-blue-600 */
        }

        .content-locked { filter: blur(4px); pointer-events: none; }
        .lock-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(230, 230, 230, 0.25); display: flex;
            align-items: center; justify-content: center; z-index: 10;
            border-radius: 0.75rem; pointer-events: auto;
        }
        .lock-overlay.hidden { display: none; }
        .lock-overlay svg { width: 3rem; height: 3rem; color: #4B5563; opacity: 0.9; }
    </style>
</head>
<body class="bg-white text-slate-700">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-40"> <!-- z-40 agar dropdown bisa di atasnya -->
        <div class="container mx-auto px-6 py-3 sm:py-4 flex justify-between items-center">
            <a href="#home" class="flex items-center">
                <img src="Extra Course logo.png" alt="ExtraCourse Logo" class="logo-image" onerror="this.onerror=null; this.src='https://placehold.co/200x70/CCCCCC/000000?text=Logo+Error'; this.alt='Logo tidak ditemukan. Periksa path: Extra Course logo.png';">
            </a>
            <nav class="hidden md:flex space-x-4 lg:space-x-6 items-center">
                <a href="#home" class="nav-link text-slate-600 hover:text-blue-600 font-medium active">Home</a>
                <a href="semua-materi.html" class="nav-link text-slate-600 hover:text-blue-600 font-medium">Materi</a>
                <a href="semua-kuis.html" class="nav-link text-slate-600 hover:text-blue-600 font-medium">Kuis</a>
                <a href="#tentang" class="nav-link text-slate-600 hover:text-blue-600 font-medium">Tentang Kami</a>
                <a href="#kontak" class="nav-link text-slate-600 hover:text-blue-600 font-medium">Kontak</a>
            </nav>
            
            <div class="hidden md:flex items-center space-x-2">
                <div id="authLinksDesktop">
                    <a href="login-page.html" class="auth-button auth-button-secondary text-sm">Login</a>
                    <a href="registrasi.html" class="auth-button auth-button-primary text-sm ml-2">Daftar</a> 
                </div>
                <!-- Desktop User Info & Dropdown Trigger -->
                <div id="userInfoDesktopContainer" class="hidden relative"> 
                    <button id="userInfoDesktopTrigger" class="flex items-center focus:outline-none p-1 rounded-md hover:bg-slate-100">
                        <img id="userPhotoDesktop" src="https://placehold.co/32x32/CCCCCC/FFFFFF?text=U" alt="Foto Pengguna">
                        <span id="userDisplayNameDesktop" class="user-display-name ml-2">Nama Pengguna</span>
                        <svg class="caret-icon ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <!-- User Dropdown Menu -->
                    <div id="userDropdownMenuDesktop">
                        <div class="dropdown-user-info">
                            <p class="name" id="dropdownUserNameDesktop">Nama Pengguna</p>
                            <p class="email" id="dropdownUserEmailDesktop">email@pengguna.com</p>
                        </div>
                        <a href="#" class="dropdown-item">Profil Saya</a>
                        <a href="#" class="dropdown-item">Pengaturan Akun</a>
                        <a href="#" class="dropdown-item">Materi Tersimpan</a>
                        <a href="#" class="dropdown-item">Riwayat Kuis</a>
                        <hr class="border-slate-200 my-1">
                        <button id="logoutButtonDropdownDesktop" class="dropdown-item !text-red-600">Logout</button>
                    </div>
                </div>
            </div>

            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-slate-600 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg pb-3">
            <!-- Mobile User Info (jika login) -->
            <div id="mobileUserInfoContainer" class="hidden px-6 py-3 border-b border-slate-200">
                 <div class="flex items-center">
                    <img id="userPhotoMobile" src="https://placehold.co/32x32/CCCCCC/FFFFFF?text=U" alt="Foto Pengguna">
                    <span id="userDisplayNameMobile" class="user-display-name ml-3">Nama Pengguna</span>
                </div>
            </div>
            <!-- Mobile User Menu Links (jika login) -->
            <div id="mobileUserMenuLinksContainer" class="hidden">
                <a href="#" class="">Profil Saya</a>
                <a href="#" class="">Pengaturan Akun</a>
                <a href="#" class="">Materi Tersimpan</a>
                <a href="#" class="">Riwayat Kuis</a>
                 <hr class="border-slate-200 mx-6 my-1">
            </div>

            <!-- Main Mobile Nav Links -->
            <a href="#home" class="block px-6 py-3 text-slate-600 hover:bg-blue-50 hover:text-blue-600">Home</a>
            <a href="semua-materi.html" class="block px-6 py-3 text-slate-600 hover:bg-blue-50 hover:text-blue-600">Materi</a>
            <a href="semua-kuis.html" class="block px-6 py-3 text-slate-600 hover:bg-blue-50 hover:text-blue-600">Kuis</a>
            <a href="#tentang" class="block px-6 py-3 text-slate-600 hover:bg-blue-50 hover:text-blue-600">Tentang Kami</a>
            <a href="#kontak" class="block px-6 py-3 text-slate-600 hover:bg-blue-50 hover:text-blue-600">Kontak</a>
            
            <!-- Mobile Auth Buttons (jika belum login) / Logout Button (jika sudah login) -->
            <div class="px-6 mt-2 space-y-2" id="authLinksMobile">
                 <a href="login-page.html" class="block text-center auth-button auth-button-secondary w-full">Login</a>
                 <a href="registrasi.html" class="block text-center auth-button auth-button-primary w-full">Daftar</a>
            </div>
            <div class="px-6 mt-2 hidden" id="logoutButtonContainerMobile">
                <button id="logoutButtonMobile" class="block text-center auth-button auth-button-secondary w-full !border-red-500 !text-red-600 hover:!bg-red-50">Logout</button>
            </div>
        </div>
    </header>

    <!-- Konten halaman lainnya (Hero, Fitur, Materi, Kuis, Testimoni, Footer) tetap sama -->
    <!-- ... (Salin bagian Hero hingga Footer dari versi sebelumnya) ... -->
    <section id="home" class="hero-bg py-20 md:py-32">  </section>
    <section id="fitur" class="py-16 md:py-24 bg-white">  </section>
    <section id="materi" class="py-16 md:py-24 bg-blue-50">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl md:text-4xl font-bold text-center text-blue-700 mb-4">Materi Bahasa Inggris Unggulan</h2>
            <p class="text-center text-slate-500 mb-12 md:mb-16 max-w-xl mx-auto">Jelajahi berbagai topik Bahasa Inggris menarik yang kami sediakan untuk semua tingkatan.</p>
            <div id="materiList" class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="preview-card bg-white p-6 rounded-xl shadow-lg border border-gray-200 flex flex-col">
                    <img src="https://placehold.co/600x400/3B82F6/FFFFFF?text=English+Grammar" alt="Materi English Grammar" class="rounded-md mb-4 h-40 w-full object-cover">
                    <h4 class="text-lg font-semibold text-blue-700 mb-2">English Grammar Essentials</h4>
                    <p class="text-sm text-slate-600 mb-3 flex-grow">Pahami tenses, parts of speech, dan struktur kalimat dengan mudah.</p>
                    <div class="mt-auto">
                         <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full">PEMULA</span>
                    </div>
                    <div class="lock-overlay hidden">
                        <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 2a4 4 0 00-4 4v2H5a1 1 0 00-1 1v8a1 1 0 001 1h10a1 1 0 001-1V9a1 1 0 00-1-1h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4z" clip-rule="evenodd"></path></svg>
                    </div>
                </div>
                <div class="preview-card bg-white p-6 rounded-xl shadow-lg border border-gray-200 flex flex-col">
                    <img src="https://placehold.co/600x400/10B981/FFFFFF?text=Daily+Vocabulary" alt="Materi Daily Vocabulary" class="rounded-md mb-4 h-40 w-full object-cover">
                    <h4 class="text-lg font-semibold text-blue-700 mb-2">Daily Conversation Vocabulary</h4>
                    <p class="text-sm text-slate-600 mb-3 flex-grow">Perkaya kosakata untuk percakapan sehari-hari dan formal.</p>
                     <div class="mt-auto">
                        <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">MENENGAH</span>
                    </div>
                    <div class="lock-overlay hidden">
                        <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 2a4 4 0 00-4 4v2H5a1 1 0 00-1 1v8a1 1 0 001 1h10a1 1 0 001-1V9a1 1 0 00-1-1h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4z" clip-rule="evenodd"></path></svg>
                    </div>
                </div>
                <div class="preview-card bg-white p-6 rounded-xl shadow-lg border border-gray-200 flex flex-col">
                    <img src="https://placehold.co/600x400/F59E0B/FFFFFF?text=Listening+Practice" alt="Materi Listening Practice" class="rounded-md mb-4 h-40 w-full object-cover">
                    <h4 class="text-lg font-semibold text-blue-700 mb-2">Listening Comprehension</h4>
                    <p class="text-sm text-slate-600 mb-3 flex-grow">Latih kemampuan mendengar melalui berbagai audio dan dialog.</p>
                    <div class="mt-auto">
                        <span class="text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full">SEMUA LEVEL</span>
                    </div>
                     <div class="lock-overlay hidden">
                        <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 2a4 4 0 00-4 4v2H5a1 1 0 00-1 1v8a1 1 0 001 1h10a1 1 0 001-1V9a1 1 0 00-1-1h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4z" clip-rule="evenodd"></path></svg>
                    </div>
                </div>
                <div class="preview-card bg-white p-6 rounded-xl shadow-lg border border-gray-200 flex flex-col">
                    <img src="https://placehold.co/600x400/6366F1/FFFFFF?text=TOEFL+Preparation" alt="Materi TOEFL Preparation" class="rounded-md mb-4 h-40 w-full object-cover">
                    <h4 class="text-lg font-semibold text-blue-700 mb-2">TOEFL/IELTS Preparation</h4>
                    <p class="text-sm text-slate-600 mb-3 flex-grow">Strategi dan latihan soal untuk persiapan tes Bahasa Inggris.</p>
                    <div class="mt-auto">
                        <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full">MAHIR</span>
                    </div>
                     <div class="lock-overlay hidden">
                        <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 2a4 4 0 00-4 4v2H5a1 1 0 00-1 1v8a1 1 0 001 1h10a1 1 0 001-1V9a1 1 0 00-1-1h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4z" clip-rule="evenodd"></path></svg>
                    </div>
                </div>
            </div>
            <div id="loginPromptMateri" class="hidden text-center mt-8 p-6 bg-yellow-100 border border-yellow-300 rounded-lg">
                <p class="text-yellow-700 font-medium">
                    Untuk mengakses lebih banyak materi, silakan 
                    <a href="login-page.html?redirect=semua-materi.html" class="font-bold underline hover:text-yellow-800">Login</a> atau 
                    <a href="registrasi.html" class="font-bold underline hover:text-yellow-800">Daftar</a>.
                </p>
            </div>
            <div class="text-center mt-12">
                <a href="semua-materi.html" class="cta-button bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg">
                    Lihat Semua Materi
                </a>
            </div>
        </div>
    </section>
    <section id="kuis" class="py-16 md:py-24 bg-white">
         <div class="container mx-auto px-6">
            <h2 class="text-3xl md:text-4xl font-bold text-center text-blue-700 mb-4">Asah Kemampuan Bahasa Inggrismu</h2>
            <p class="text-center text-slate-500 mb-12 md:mb-16 max-w-xl mx-auto">Pilih kuis Bahasa Inggris sesuai tingkat kemampuanmu, lalu lihat seberapa jauh pemahamanmu!</p>
            <div id="kuisList" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="preview-card bg-blue-50 p-6 rounded-xl shadow-lg border border-blue-200 flex flex-col">
                    <div class="flex items-center mb-3">
                        <div class="p-3 bg-blue-200 rounded-full mr-4">
                           <svg class="w-6 h-6 text-blue-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg>
                        </div>
                        <div>
                            <h4 class="text-lg font-semibold text-blue-700">Kuis Tenses Dasar</h4>
                            <span class="text-xs text-slate-500">15 Soal • 20 Menit</span>
                        </div>
                    </div>
                    <p class="text-sm text-slate-600 mb-4 flex-grow">Uji pemahamanmu tentang Simple Present, Past, Future.</p>
                    <a href="#" class="mt-auto text-sm font-medium text-blue-600 hover:text-blue-800 self-start">Mulai Kuis &rarr;</a>
                    <div class="lock-overlay hidden">
                        <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 2a4 4 0 00-4 4v2H5a1 1 0 00-1 1v8a1 1 0 001 1h10a1 1 0 001-1V9a1 1 0 00-1-1h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4z" clip-rule="evenodd"></path></svg>
                    </div>
                </div>
                <div class="preview-card bg-blue-50 p-6 rounded-xl shadow-lg border border-blue-200 flex flex-col">
                    <div class="flex items-center mb-3">
                        <div class="p-3 bg-blue-200 rounded-full mr-4">
                           <svg class="w-6 h-6 text-blue-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg>
                        </div>
                        <div>
                            <h4 class="text-lg font-semibold text-blue-700">Kuis Idiom Populer</h4>
                            <span class="text-xs text-slate-500">20 Soal • 25 Menit</span>
                        </div>
                    </div>
                    <p class="text-sm text-slate-600 mb-4 flex-grow">Seberapa banyak idiom Bahasa Inggris yang kamu ketahui?</p>
                    <a href="#" class="mt-auto text-sm font-medium text-blue-600 hover:text-blue-800 self-start">Mulai Kuis &rarr;</a>
                    <div class="lock-overlay hidden">
                        <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 2a4 4 0 00-4 4v2H5a1 1 0 00-1 1v8a1 1 0 001 1h10a1 1 0 001-1V9a1 1 0 00-1-1h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4z" clip-rule="evenodd"></path></svg>
                    </div>
                </div>
                <div class="preview-card bg-blue-50 p-6 rounded-xl shadow-lg border border-blue-200 flex flex-col">
                    <div class="flex items-center mb-3">
                        <div class="p-3 bg-blue-200 rounded-full mr-4">
                           <svg class="w-6 h-6 text-blue-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg>
                        </div>
                        <div>
                            <h4 class="text-lg font-semibold text-blue-700">Kuis Listening: Short Dialogues</h4>
                            <span class="text-xs text-slate-500">10 Soal • 15 Menit</span>
                        </div>
                    </div>
                    <p class="text-sm text-slate-600 mb-4 flex-grow">Dengarkan dialog singkat dan jawab pertanyaannya.</p>
                    <a href="#" class="mt-auto text-sm font-medium text-blue-600 hover:text-blue-800 self-start">Mulai Kuis &rarr;</a>
                    <div class="lock-overlay hidden">
                        <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 2a4 4 0 00-4 4v2H5a1 1 0 00-1 1v8a1 1 0 001 1h10a1 1 0 001-1V9a1 1 0 00-1-1h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4z" clip-rule="evenodd"></path></svg>
                    </div>
                </div>
            </div>
            <div id="loginPromptKuis" class="hidden text-center mt-8 p-6 bg-yellow-100 border border-yellow-300 rounded-lg">
                <p class="text-yellow-700 font-medium">
                    Untuk mengakses lebih banyak kuis, silakan 
                    <a href="login-page.html?redirect=semua-kuis.html" class="font-bold underline hover:text-yellow-800">Login</a> atau 
                    <a href="registrasi.html" class="font-bold underline hover:text-yellow-800">Daftar</a>.
                </p>
            </div>
            <div class="text-center mt-12">
                <a href="semua-kuis.html" class="cta-button bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg">
                    Lihat Semua Kuis
                </a>
            </div>
        </div>
    </section>
    <section id="tentang" class="py-16 md:py-24 bg-blue-50"> </section>
    <footer id="kontak" class="bg-slate-800 text-slate-300 py-16"> </footer>


    <script type="module">
        // Firebase Config
        const firebaseConfig = {
          apiKey: "AIzaSyARLZcg_E2-H2UVD6qjc0Ls7m3Kkb-Uiyg",
          authDomain: "ec-materi.firebaseapp.com",
          projectId: "ec-materi",
          storageBucket: "ec-materi.firebasestorage.app", 
          messagingSenderId: "166687187100",
          appId: "1:166687187100:web:e073df281931524f660d59",
          measurementId: "G-MT58HLBRDY"
        };

        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js";

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // DOM Elements - Header & Mobile Menu
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const currentYearSpan = document.getElementById('currentYear'); // In footer

        const authLinksDesktop = document.getElementById('authLinksDesktop');
        const userInfoDesktopContainer = document.getElementById('userInfoDesktopContainer'); // Container for trigger + dropdown
        const userInfoDesktopTrigger = document.getElementById('userInfoDesktopTrigger');
        const userPhotoDesktop = document.getElementById('userPhotoDesktop');
        const userDisplayNameDesktop = document.getElementById('userDisplayNameDesktop');
        const userDropdownMenuDesktop = document.getElementById('userDropdownMenuDesktop');
        const dropdownUserNameDesktop = document.getElementById('dropdownUserNameDesktop');
        const dropdownUserEmailDesktop = document.getElementById('dropdownUserEmailDesktop');
        const logoutButtonDropdownDesktop = document.getElementById('logoutButtonDropdownDesktop');


        const authLinksMobile = document.getElementById('authLinksMobile');
        const mobileUserInfoContainer = document.getElementById('mobileUserInfoContainer');
        const userPhotoMobile = document.getElementById('userPhotoMobile');
        const userDisplayNameMobile = document.getElementById('userDisplayNameMobile');
        const mobileUserMenuLinksContainer = document.getElementById('mobileUserMenuLinksContainer');
        const logoutButtonContainerMobile = document.getElementById('logoutButtonContainerMobile'); // Container for logout button
        const logoutButtonMobile = document.getElementById('logoutButtonMobile');
        
        // DOM Elements - Content
        const materiListDiv = document.getElementById('materiList');
        const kuisListDiv = document.getElementById('kuisList');
        const loginPromptMateri = document.getElementById('loginPromptMateri');
        const loginPromptKuis = document.getElementById('loginPromptKuis');

        const freeMateriCount = 2; 
        const freeKuisCount = 1;   

        function updateAuthUI(user) {
            const allMateriCards = materiListDiv ? Array.from(materiListDiv.children) : [];
            const allKuisCards = kuisListDiv ? Array.from(kuisListDiv.children) : [];

            allMateriCards.forEach(card => card.style.display = 'flex'); 
            allKuisCards.forEach(card => card.style.display = 'flex');

            if (user) { // Pengguna LOGIN
                // Desktop Header
                if (authLinksDesktop) authLinksDesktop.classList.add('hidden');
                if (userInfoDesktopContainer) userInfoDesktopContainer.classList.remove('hidden');
                if (userInfoDesktopContainer) userInfoDesktopContainer.classList.add('flex'); // Ensure flex if it was changed
                
                const displayName = user.displayName || user.email.split('@')[0];
                const email = user.email;
                const photoURL = user.photoURL || `https://ui-avatars.com/api/?name=${encodeURIComponent(displayName)}&background=random&size=32&color=fff&font-size=0.5`;
                
                if (userPhotoDesktop) userPhotoDesktop.src = photoURL;
                if (userDisplayNameDesktop) userDisplayNameDesktop.textContent = displayName;
                if (dropdownUserNameDesktop) dropdownUserNameDesktop.textContent = displayName;
                if (dropdownUserEmailDesktop) dropdownUserEmailDesktop.textContent = email;


                // Mobile Menu
                if (authLinksMobile) authLinksMobile.classList.add('hidden');
                if (mobileUserInfoContainer) mobileUserInfoContainer.classList.remove('hidden');
                if (mobileUserInfoContainer) mobileUserInfoContainer.classList.add('flex');
                if (userPhotoMobile) userPhotoMobile.src = photoURL;
                if (userDisplayNameMobile) userDisplayNameMobile.textContent = displayName;
                if (mobileUserMenuLinksContainer) mobileUserMenuLinksContainer.classList.remove('hidden');
                if (logoutButtonContainerMobile) logoutButtonContainerMobile.classList.remove('hidden');


                // Konten Terbuka
                allMateriCards.forEach(card => {
                    card.classList.remove('content-locked');
                    const overlay = card.querySelector('.lock-overlay');
                    if (overlay) overlay.classList.add('hidden');
                });
                allKuisCards.forEach(card => {
                    card.classList.remove('content-locked');
                    const overlay = card.querySelector('.lock-overlay');
                    if (overlay) overlay.classList.add('hidden');
                });

                if(loginPromptMateri) loginPromptMateri.classList.add('hidden');
                if(loginPromptKuis) loginPromptKuis.classList.add('hidden');

            } else { // Pengguna LOGOUT
                // Desktop Header
                if (authLinksDesktop) authLinksDesktop.classList.remove('hidden');
                if (userInfoDesktopContainer) userInfoDesktopContainer.classList.add('hidden');
                if (userInfoDesktopContainer) userInfoDesktopContainer.classList.remove('flex');
                if (userDropdownMenuDesktop) userDropdownMenuDesktop.style.display = 'none'; // Pastikan dropdown tertutup
                if (userInfoDesktopTrigger) userInfoDesktopTrigger.classList.remove('open');


                // Mobile Menu
                if (authLinksMobile) authLinksMobile.classList.remove('hidden');
                if (mobileUserInfoContainer) mobileUserInfoContainer.classList.add('hidden');
                if (mobileUserInfoContainer) mobileUserInfoContainer.classList.remove('flex');
                if (mobileUserMenuLinksContainer) mobileUserMenuLinksContainer.classList.add('hidden');
                if (logoutButtonContainerMobile) logoutButtonContainerMobile.classList.add('hidden');


                // Konten Terkunci
                allMateriCards.forEach((card, index) => {
                    const overlay = card.querySelector('.lock-overlay');
                    if (index >= freeMateriCount) { 
                        card.classList.add('content-locked');
                        if (overlay) overlay.classList.remove('hidden');
                    } else { 
                        card.classList.remove('content-locked');
                        if (overlay) overlay.classList.add('hidden');
                    }
                });
                allKuisCards.forEach((card, index) => {
                    const overlay = card.querySelector('.lock-overlay');
                    if (index >= freeKuisCount) { 
                        card.classList.add('content-locked');
                        if (overlay) overlay.classList.remove('hidden');
                    } else { 
                        card.classList.remove('content-locked');
                        if (overlay) overlay.classList.add('hidden');
                    }
                });

                if(loginPromptMateri) loginPromptMateri.classList.remove('hidden');
                if(loginPromptKuis) loginPromptKuis.classList.remove('hidden');
            }
        }

        onAuthStateChanged(auth, (user) => {
            updateAuthUI(user);
            // ... (console log status)
        });

        // Desktop Dropdown Toggle
        if (userInfoDesktopTrigger && userDropdownMenuDesktop) {
            userInfoDesktopTrigger.addEventListener('click', (event) => {
                event.stopPropagation(); // Mencegah event bubbling ke document click listener
                const isHidden = userDropdownMenuDesktop.style.display === 'none' || userDropdownMenuDesktop.style.display === '';
                userDropdownMenuDesktop.style.display = isHidden ? 'block' : 'none';
                userInfoDesktopTrigger.classList.toggle('open', isHidden);
            });

            // Menutup dropdown jika klik di luar
            document.addEventListener('click', (event) => {
                if (!userInfoDesktopTrigger.contains(event.target) && !userDropdownMenuDesktop.contains(event.target)) {
                    userDropdownMenuDesktop.style.display = 'none';
                    userInfoDesktopTrigger.classList.remove('open');
                }
            });
        }
        
        // Logout Buttons
        if (logoutButtonDropdownDesktop) {
            logoutButtonDropdownDesktop.addEventListener('click', () => {
                signOut(auth).catch((error) => console.error("Error logout desktop dropdown:", error));
            });
        }
        if (logoutButtonMobile) {
             logoutButtonMobile.addEventListener('click', () => {
                signOut(auth).catch((error) => console.error("Error logout mobile:", error));
            });
        }

        // Mobile menu toggle
        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        }
        
        // Smooth scroll, current year (tetap sama)
        document.querySelectorAll('a[href^="#"]').forEach(anchor => { /* ... */ });
        if (currentYearSpan) currentYearSpan.textContent = new Date().getFullYear();
        
        updateAuthUI(auth.currentUser); // Initial UI update
    </script>

</body>
</html>
